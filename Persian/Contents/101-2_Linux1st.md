# _101.2_ بوت سیستم (Boot the System)

#### هدف : داوطلبان باید بتوانند سیستم را در طول فرآیند بوت شدن هدایت کنند.

### اهداف

- ارائه دستورات رایج به بوت لودر و گزینه‌های هسته در زمان بوت
- نشان دادن دانش توالی بوت از **BIOS/UEFI** تا تکمیل بوت
- درک **SysVinit** و **systemd**
- آگاهی از **Upstart**
- بررسی رویدادهای بوت در فایل‌های لاگ

## فرآیند بوت (The Boot Process)

در این مرحله باید شناخت خوبی از فرایند داشته باشید ، زیرا شما کنترل کمی بر سیستم دارید.

1. ابتدا فریمور(Firmware) مادربرد عملیات POST (PowerOnSelfTest) را انجام میدهد. این عملیات وظیفه تست اولیه سخت افزارها و شناسایی و مقداردهی اولیه دستگاه ها را به عهده دارد.
2. مادربرد Bootloader را لود میکند.
3. سپس Bootloader هسته لینوکس را با استفاده از دستورات و پیکربندی هایش لود میکند.
4. هسته لینوکس برنامه Init را اجرا میکند
5. در نهایت Init سرویس های سیستم را اجرا میکند. (محیط گرافیکی ، شبکه ، وب سرور و ...)

## فریمور BIOS

سیستم قدیمی راه اندازی

#### ویژگی ها
- استفاده از MBR برای پارتیشن بندی
- محدودیت 2.2TB برای دیسک ها
- پشتیبانی از حداکثر 4 پارتیشن اصلی

#### فرآیند بوت
- اجرای POST
- بارگذاری بوت لودر از سکتور اول دیسک (MBR)
- انتقال کنترل به بوت لودر

## فریمور UEFI

جاگزین مدرن BIOS

#### ویژگی ها
- استفاده از GPT برای پارتیشن بندی
- پشتیبانی از دیسک های بزرگتر از 2.2TB
- امکان Secure Boot برای امنیت بیشتر
- سرعت بالاتر در فرآیند بوت

#### فرآیند بوت
- اجرای POST
- بارگذاری بوت لودر از پارتیشن ESP (EFI System Partition)
- انتقال کنترل به بوت لودر

## برنامه Bootloader
(بارگذار بوت) یک برنامه کوچک است که در ابتدای فرآیند راه‌اندازی (Boot) سیستم اجرا می‌شود و وظیفه دارد سیستم عامل را بارگذاری و اجرا کند.
**بوت‌لودر حداقل سخت‌افزار مورد نیاز برای راه‌اندازی سیستم را آماده‌سازی می‌کند. سپس، سیستم‌عامل را پیدا کرده و اجرا می‌کند**

#### انواع Bootloader:

برای کامپیوترهای شخصی (PC):

- بوت لودر GRUB (مورد استفاده در لینوکس)
- بوت لودر Windows Boot Manager (برای ویندوز)

برای میکروکنترلرها و سیستم‌های توکار (Embedded):

- بوت لودر U-Boot (رایج در دستگاه‌های مبتنی بر ARM)
- بوت لودر BIOS/UEFI (در مادربردهای کامپیوتر)

## هسته (Kernel)

هسته (Kernel) بخش مرکزی و هستهٔ اصلی یک سیستم عامل (OS) است که به عنوان پل ارتباطی بین نرم‌افزارها و سخت‌افزار سیستم عمل می‌کند. تمام درخواست‌های نرم‌افزاری (مثل برنامه‌های کاربردی) برای دسترسی به منابع سخت‌افزاری (مانند CPU، RAM، دیسک، شبکه و ...) ابتدا توسط کرنل مدیریت می‌شوند.

کرنل پس از اینکه توسط بوت لودر در حافظه (memory) بارگذاری و اجرا شد ، نیاز به اطلاعات اولیه ضروری برای کار با سخت افزار ها دارد. این اطلاعات در `initrd` یا `initramfs` در کنار هسته ذخیره میشود در طول بوت مورد استفاده قرار میگیرد.
